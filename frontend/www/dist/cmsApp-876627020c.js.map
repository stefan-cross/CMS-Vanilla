{"version":3,"sources":["module.js","routes.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9EA","file":"cmsApp-876627020c.js","sourcesContent":["var MyApp = angular.module('MyApp', ['ui.router']);\n\n\nMyApp.controller(\"RestCtrl\" ,function($scope, $http) {\n\n    // Search API calls\n    //$scope.searchByID = function(user_id){\n    //    $http.get(\"http://localhost:8080/people/\" + user_id)\n    //        .success(function(response){\n    //            $scope.users = response.data;\n    //        })\n    //        .error(onError)\n    //};\n\n    $scope.searchBySurname = function(surname){\n            $http.get(\"http://localhost:8080/people/search/findByLastName?name=\" + surname)\n                .then(onUserComplete, onError);\n    };\n\n    var onUserComplete = function(response){\n        $scope.users = response.data._embedded.people;\n    };\n\n    var onError = function(reason){\n        $scope.search_error = \"Could not find user\";\n    };\n\n    // Create API call\n    $scope.create = function(forename, surname){\n        var dataObj = {\n            firstName: forename,\n            lastName: surname\n        }\n        $http.post(\"http://localhost:8080/people\", dataObj)\n            .success(function(data, status, header, config) {\n                $scope.created = \"Success record created at: \" + header('Location');\n                console.log(header());\n            })\n            .error(function(response, status){\n                $scope.created = \"Error \"+status+\" writing \"+response;\n            })\n            .finally(function(){\n                console.log(\"Create call complete.\");\n            });\n    }\n\n    // Delete API call\n    $scope.delete = function(delete_id){\n        $http.delete(\"http://localhost:8080/people/\"+delete_id)\n            .success(function(data){\n                $scope.deleteresult = \"User \"+delete_id+\" successfully deleted\";\n            })\n            .error(function(data){\n                $scope.deleteresult = \"Error deleting user\"+data;\n            })\n    }\n\n    // Update API call\n    $scope.update = function(user_id, data) {\n        var dataObj = {\n            firstName: data.forename,\n            lastName: data.surname\n        }\n        $http.put(\"http://localhost:8080/people/\"+user_id, dataObj)\n            .success(function(){\n                $scope.updateresult = \"Success \" + user_id + \" updated\";\n            })\n            .error(function(){\n                $scope.updateresult = \"Failed to update user \" + user_id;\n            })\n    }\n\n    $scope.forename = \"\";\n    $scope.surname = \"\";\n    $scope.created = \"\";\n\n    $scope.user_surname = \"\";\n    $scope.message = \"Calling local springboot REST sevice\";\n});",""],"sourceRoot":"/source/"}